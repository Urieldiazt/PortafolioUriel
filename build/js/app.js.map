{"version":3,"sources":["app.js"],"names":["ScrollEnlaces","document","querySelectorAll","forEach","navEnlace","addEventListener","e","preventDefault","enlaceHref","target","attributes","href","value","querySelector","scrollIntoView","behavior","validarFormulario","UI","[object Object]","mensaje","campo","this","limpiarAlerta","alerta","createElement","classList","add","textContent","appendChild","existeAlerta","remove","ui","nombre","email","spinner","btnEnviar","formulario","datos","validarCampo","trim","imprimirAlerta","id","parentElement","comprobarCampos","test","validarEmail","toLowerCase","Object","values","includes","setTimeout","reset"],"mappings":"AAMA,SAASA,gBACOC,SAASC,iBAAiB,UAElCC,QAAQC,IACRA,EAAUC,iBAAiB,QAAUC,IACjCA,EAAEC,iBAEE,MAAMC,EAAaF,EAAEG,OAAOC,WAAWC,KAAKC,MACvBX,SAASY,cAAcL,GAC/BM,eAAe,CAACC,SAAS,eAdtDd,SAASI,iBAAiB,mBAAoB,KAC1CL,gBACAgB,sBAiBJ,MAAMC,GAEFC,eAAeC,EAASC,GACpBC,KAAKC,cAAcF,GACnB,MAAMG,EAAStB,SAASuB,cAAc,KACtCD,EAAOE,UAAUC,IAAI,UACrBH,EAAOI,YAAcR,EACrBC,EAAMQ,YAAYL,GAGtBL,cAAcE,GACV,MAAMS,EAAeT,EAAMP,cAAc,WACtCgB,GACKA,EAAaC,UAM7B,MAAMC,GAAK,IAAId,GAGf,SAASD,oBACL,MAAMgB,EAAS/B,SAASY,cAAc,WAChCoB,EAAQhC,SAASY,cAAc,UAC/BM,EAAUlB,SAASY,cAAc,YACjCqB,EAAUjC,SAASY,cAAc,YACjCsB,EAAYlC,SAASY,cAAc,cACnCuB,EAAanC,SAASY,cAAc,SAGpCwB,EAAQ,CACVL,OAAQ,GACRC,MAAO,GACPd,QAAS,IAQb,SAASmB,EAAahC,GAClB,MAAMc,EAAQd,EAAEG,OAChB,MAA0B,KAAvBW,EAAMR,MAAM2B,QACXR,GAAGS,eAAe,YAAYpB,EAAMqB,8BAA+BrB,EAAMsB,eACzEL,EAAM/B,EAAEG,OAAOgC,IAAM,QACrBE,KAIY,UAAbvB,EAAMqB,IAab,SAAsBR,GAGlB,MAFe,iDACSW,KAAKX,GAfDY,CAAazB,EAAMR,QAM/CmB,GAAGT,cAAcF,EAAMsB,eACvBL,EAAM/B,EAAEG,OAAOgC,IAAKnC,EAAEG,OAAOG,MAAM2B,OAAOO,mBAC1CH,MAPIZ,GAAGS,eAAe,yBAA0BpB,EAAMsB,eAClDL,EAAM/B,EAAEG,OAAOgC,IAAM,QACrBE,KAgBR,SAASA,IACFI,OAAOC,OAAOX,GAAOY,SAAS,IAC7Bd,EAAUV,UAAUC,IAAI,YAGxBS,EAAUV,UAAUK,OAAO,YAtCnCE,EAAO3B,iBAAiB,OAAQiC,GAChCL,EAAM5B,iBAAiB,OAAQiC,GAC/BnB,EAAQd,iBAAiB,OAAQiC,GACjCH,EAAU9B,iBAAiB,SAsC3B,SAA0BC,GACtBA,EAAEC,iBACFoC,IAEII,OAAOC,OAAOX,GAAOY,SAAS,MAC9Bf,EAAQT,UAAUC,IAAI,kBAEtBwB,WAAW,KACPhB,EAAQT,UAAUK,OAAO,kBAQjCM,EAAWe,QAKXd,EAAML,OAAS,GACfK,EAAMJ,MAAQ,GACdI,EAAMlB,QAAU,IAbV","file":"app.js","sourcesContent":["\r\ndocument.addEventListener('DOMContentLoaded', ()=>{\r\n    ScrollEnlaces();\r\n    validarFormulario();\r\n});\r\n\r\nfunction ScrollEnlaces(){\r\n    const nav = document.querySelectorAll('#nav a');\r\n\r\n    nav.forEach(navEnlace => {\r\n        navEnlace.addEventListener('click', (e)=>{\r\n            e.preventDefault();\r\n\r\n                const enlaceHref = e.target.attributes.href.value;\r\n                const scrollEnlace = document.querySelector(enlaceHref)\r\n                scrollEnlace.scrollIntoView({behavior:'smooth'});\r\n        });\r\n    });\r\n}\r\n\r\nclass UI{\r\n\r\n    imprimirAlerta(mensaje, campo){\r\n        this.limpiarAlerta(campo);\r\n        const alerta = document.createElement('P');\r\n        alerta.classList.add('alerta');\r\n        alerta.textContent = mensaje;\r\n        campo.appendChild(alerta);\r\n    }\r\n\r\n    limpiarAlerta(campo){\r\n        const existeAlerta = campo.querySelector('.alerta')\r\n        if(existeAlerta){\r\n                existeAlerta.remove();\r\n        }\r\n    }\r\n\r\n};\r\n\r\nconst ui = new UI;\r\n\r\n\r\nfunction validarFormulario(){\r\n    const nombre = document.querySelector('#nombre');\r\n    const email = document.querySelector('#email');\r\n    const mensaje = document.querySelector('#mensaje');\r\n    const spinner = document.querySelector('#spinner');\r\n    const btnEnviar = document.querySelector('#btnEnviar');\r\n    const formulario = document.querySelector('#form');\r\n\r\n\r\n    const datos = {\r\n        nombre: '',\r\n        email: '',\r\n        mensaje: ''\r\n    }\r\n\r\n    nombre.addEventListener('blur', validarCampo);\r\n    email.addEventListener('blur', validarCampo);\r\n    mensaje.addEventListener('blur', validarCampo);\r\n    btnEnviar.addEventListener('click', enviarFormulario);\r\n\r\n    function validarCampo(e){\r\n        const campo = e.target;\r\n        if(campo.value.trim() === ''){\r\n            ui.imprimirAlerta(`El campo ${campo.id} no se puede enviar vacio`, campo.parentElement);\r\n            datos[e.target.id] = '';\r\n            comprobarCampos();\r\n            return;\r\n        }\r\n\r\n        if(campo.id === 'email' && !validarEmail(campo.value)){\r\n            ui.imprimirAlerta('El email es incorrecto', campo.parentElement);\r\n            datos[e.target.id] = '';\r\n            comprobarCampos();\r\n            return;\r\n        }\r\n        ui.limpiarAlerta(campo.parentElement);\r\n        datos[e.target.id]= e.target.value.trim().toLowerCase();\r\n        comprobarCampos();\r\n\r\n    }\r\n\r\n\r\n    function validarEmail(email){\r\n        const regex =  /^\\w+([.-_+]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,10})+$/;\r\n        const resultado = regex.test(email);\r\n        return resultado;\r\n    }\r\n\r\n    function comprobarCampos(){\r\n        if(Object.values(datos).includes('')){\r\n            btnEnviar.classList.add('btnError');\r\n            return;\r\n        }\r\n            btnEnviar.classList.remove('btnError');\r\n    }\r\n\r\n    function enviarFormulario(e){\r\n        e.preventDefault();\r\n        comprobarCampos();\r\n\r\n        if(!Object.values(datos).includes('')){\r\n            spinner.classList.add('mostrarSpinner');\r\n\r\n            setTimeout(()=>{\r\n                spinner.classList.remove('mostrarSpinner');\r\n                reiniciarFormulario();\r\n            },3000);\r\n        }\r\n        \r\n    }\r\n\r\n    function reiniciarFormulario(){\r\n        formulario.reset();\r\n        limpiarDatos();\r\n    }\r\n\r\n    function limpiarDatos(){\r\n        datos.nombre = '';\r\n        datos.email = '';\r\n        datos.mensaje = '';\r\n    }\r\n}\r\n\r\n\r\n"]}